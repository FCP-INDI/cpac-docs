ci:
  skip:
    - yarn-update-installation
    - lint

repos:
  - repo: local
    hooks:
      - id: yarn-update-installation
        name: Yarn Install
        entry: yarn install
        language: node
        types_or: [ts, javascript, json]
        pass_filenames: false
        additional_dependencies: [yarn]
        require_serial: true

      - id: check-types
        name: Type Check
        entry: yarn check-ts
        language: node
        types: [ts]
        additional_dependencies:
          - eslint
          - "@eslint/js"
          - eslint-plugin-typescript
          - globals
          - jiti
          - "@tsconfig/recommended"
          - typescript
          - typescript-eslint
          - "@typescript-eslint/eslint-plugin"
          - "@typescript-eslint/parser"
          - yarn
        require_serial: true

      - id: lint
        name: Lint TypeScript
        entry: yarn lint
        language: node
        types: [ts]
        additional_dependencies:
          - eslint
          - "@eslint/js"
          - eslint-plugin-typescript
          - globals
          - jiti
          - "@tsconfig/recommended"
          - typescript
          - typescript-eslint
          - "@typescript-eslint/eslint-plugin"
          - "@typescript-eslint/parser"
          - yarn
        require_serial: true

      - id: format
        name: Format TypeScript
        entry: yarn format
        language: node
        types: [ts]
        additional_dependencies:
          - eslint
          - "@eslint/js"
          - eslint-plugin-typescript
          - globals
          - jiti
          - prettier
          - "@tsconfig/recommended"
          - typescript
          - typescript-eslint
          - "@typescript-eslint/eslint-plugin"
          - "@typescript-eslint/parser"
          - yarn
        require_serial: true

      - id: compile-ts
        name: Compile TypeScript
        entry: yarn build
        language: node
        types: [ts]
        additional_dependencies:
          - eslint
          - "@eslint/js"
          - eslint-plugin-typescript
          - globals
          - jiti
          - "@tsconfig/recommended"
          - typescript
          - typescript-eslint
          - "@typescript-eslint/eslint-plugin"
          - "@typescript-eslint/parser"
          - yarn
        require_serial: true
